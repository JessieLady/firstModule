<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gerenciador de Tarefas</title>

    <link
      rel="shortcut icon"
      href="../assets/circle-check-regular.svg"
      type="image/x-icon"
    />

    <link rel="stylesheet" href="main.css" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
      defer
    ></script>

    <script src="https://kit.fontawesome.com/232e2c38d5.js" crossorigin="anonymous"></script>

      <script src="main.js" defer></script>

  </head>

  <body onload="getTasks(); weatherInfo()">
    <div class="div-purple" id="div-purple"></div>
    <div class="div-grey" id="div-grey"></div>

    <div class="div-white" id="div-white">

      <header id="header">

        <div id="logout">
          <a href="../login-page/index.html"><button id="logoutButton">Sair</button></a><!-- put in here the REAL LOGOUT!!! -->
        </div>

        <div id="logo">
          <img id="logoArnia" src="../assets/logo-purple.svg" alt="Logo Arnia" />
        </div>

        <div id="page-title">
          <i class="fa-regular fa-clipboard fa-xl"></i>
          <span class="mb-3">Gerenciador de Tarefas</span><br />
          <button id="newTaskButton" class="mt-3" onclick="openModal('modal')">+ Adicionar Nova Tarefa</button>
        </div>

        <div id="weather">
            <div id="firstLine">
              <span class="color-orange">Olá,</span> <span id="weatherName">&#32;</span>
            </div>
          <div id="secondLine">
            <div id="weatherTemp" class="color-orange">&#32;</div>
            <div id="weatherCity">&#32;</div>
            <div id="weatherCond">&#32;</div>
          </div>
            <!-- <div id="weatherHour">&#32;</div>
            <div id="weatherDate">&#32;</div> -->
          
        </div>

        <div id="darkMode">
          <div id="darkModeContent" onclick="switchMode()"><img width="25px" id="iconMode" src="../assets/moon.svg"></div>
        </div>

      </header>

      <div class="div-orange" id="div-orange"></div>
    </div><!-- div-white ending -->

    <main>
      <div id="tableHeader"  class="d=flex flex-row justify-content-between flex-nowrap">

        <div id="buttonsFilter">
          <button onclick="getTasks()" id="btnAll">Todas</button>
          <button id="btnToday">Hoje</button>
          <button onclick="filterTasks('Em progresso')" id="btnRunning">Em Progresso</button>
          <button onclick="filterTasks('Em Pausa')" id="btnPause">Em Pausa</button>
          <button onclick="filterTasks('Concluído')" id="btnFinished">Concluído</button>
          <button id="btnLate">Atrasado</button>
        </div>

        <div id="searchTasks">
          <div id="magnifyingGlass"><i class="fa-solid fa-magnifying-glass"></i></div>
          <div>
            <input id="searchField" name="search" type="search" placeholder="Pesquise aqui">
          </div>
        </div>
      </div>

      <div id="content">
        <table class="table table-striped table-hover table-responsive" id="table"><!-- Study table proprieties. Sorry! I'm sleepy -->
          <thead id="tHead" class="font-weight-bold">
            <!-- put a warning that there is a late task -->

            <!-- put this in the lateTask function -- table-success -->
            <tr>
              <th scope="col">Núm <i class="fa-solid fa-caret-down"></i></th><!-- add button sort -->
              <th scope="col">Descrição</th>
              <th scope="col">Data de Entrega <i class="fa-solid fa-caret-down" onclick="orderDate()"></i></th>
              <th scope="col">Status <i class="fa-solid fa-caret-down"></i></th>
              <th scope="col">Ação</th>
              <!-- maybe put a red line under the late button filter -->
            </tr>
          </thead>
          <tbody id="tbody-content" class="text-white">
          </tbody>
        </table>
      </div><!-- content ending -->

      <div id="buttonsPaging">
        <div id="previousPage" class="pagingButtons">
          <i class="fa-solid fa-chevron-left"></i> Anterior 
        </div>
        <div id="pagesNum">
          <span id="currentPage">1 </span>/<span id="pagesLenght">4</span>
        </div>
        <div id="nextPage" class="pagingButtons">
          Próximo <i class="fa-solid fa-chevron-right"></i>
        </div>
      </div>
      <div id="footerHelp">
        <p id="footerHelpContent" onclick="openModal('modalHelp')">Tenho um problema com a minha conta!</p>
      </div>

    <!-- MODALS SECTION -->
    
      <div id="modal" class="modal"><!-- mudar o id desse modal -->
        <div id="modalContent" class="modalBack-light downToUpAnimation">
          <h5 class="mb-3 h5style">Adicionar nova tarefa</h5>

          <div class="closeButton" onclick="closeModal('modal')">&times;</div>

          <form id="form"><!-- field validation ---novalidate -->
            <div>
              <label for="number">Número</label><br />
              <input type="number" min="0" id="number" name="number"/>
              <small>&nbsp;</small>
            </div>
            <br>
            <div>
              <label for="description">Descrição</label>
              <input type="text" placeholder="Ex: ligar para Amanda" id="description" name="description"/>
              <small>&nbsp;</small>
            </div>
            <br>
            <div>
              <label for="date">Data</label> 
              <br>
              <input type="date" name="date" id="date"/>
                <small>&nbsp;</small>
            </div>
            <br>
            <div>
              <label for="status">Status</label>
              <br>
              <select name="status">
                <option disabled selected>
                  Escolha uma opção
                </option>
                <option value="Em progresso">Em Progresso</option>
                <option value="Em pausa">Em Pausa</option>
                <option value="Concluído">Concluído</option>
              </select>
                <small id="statusSmall">&nbsp;</small>
            </div>
            <br>
            <div id="modal-footer">
              <button id="cancelButton" type="reset" onclick="closeModal('modal')">Cancelar</button>
              <button id="submitButton" class="disabled" type="submit">Salvar</button>
          </div>
          </form>
        </div>
      </div><!-- Modal ending -->

      <div id="modalConfirmation" class="modal">
        <div id="modalConfirmationContent" class="downToUpAnimation">

        <div class="closeButtonDelete" onclick="closeModal('modalConfirmation')">&times;</div>

        <div id="confirm"><h3>Você deseja excluir esta tarefa?</h3></div>

        <div id="buttonsConfirmation">
          <button id="buttonYes">Sim</button>
          <button onclick="closeModal('modalConfirmation')">Não</button>
        </div>

      </div>
      </div>

      <div id="modalHelp" class="modal">
        <div id="modalHelpContent" class="downToUpAnimation">

          <div id="helpTitle">
            <h3>Tenho um problema com:</h3>
          </div>

          <div id="helpBody">
          <div><!-- make a function - editUser(thingChanged) -->
            <button class="mb-3" onclick="openModal('modalEdit'); closeModal('modalHelp')">Nome</button>
          </div>
          <div>
            <button class="mb-3">Cidade</button>
          </div>
          <div>
            <button class="mb-3">Login</button>
          </div>
          <div>
            <button class="mb-3">Senha</button>
          </div>
          <div>
            <button class="mb-3">Excluir minha conta</button>
          </div>          
        </div>
        <span class="closeButton" onclick="closeModal('modalHelp')">&times;</span>
        </div>
        
      </div><!-- final do modalHelp -->

      <div id="modalEdit" class="modal"><!-- don't forget to close the helpModal -->
        <div id="modalEditContent" class="downToUpAnimation">
          <span class="closeButton" onclick="closeModal('modalEdit')">&times;</span>
          <h4>Alteração de Conta:</h4>
          <label class="mb-2" id="editUserLabel" for="editUserInput">*info modificada*</label>
          <input id="editUserInput" name="editUserInput">
          <small>&nbsp;</small>
          <label class="mb-2" id="passwordConfirme" for="passwordConfirme">Sua senha atual</label>
          <input id="passwordConfirme" name="passwordConfirme" type="password">
          <small>&nbsp;</small>
          <button onclick="openModal('modalInfo'); closeModal('modalEdit')">Alterar</button>
          <!-- add an eventlistener to catch and ask for password confirmation -- make a function for that-->
        </div>
      </div>

      <div id="modalInfo" class="upToDownAnimation">
        <div id="modalInfoContent">
          <span class="closeButton" onclick="closeModal('modalInfo')">&times;</span>
            <h3>Alteração realizada com sucesso!</h3>
        </div>
      </div>

    </main>
  </body>
</html>