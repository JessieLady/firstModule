<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gerenciador de Tarefas</title>

  <link rel="stylesheet" href="breakpoints.css">
  <link rel="stylesheet" href="main.css">

  <link rel="shortcut icon" href="../assets/circle-check-regular.svg" type="image/x-icon" />

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous" />

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"
    defer></script>

  <script src="https://kit.fontawesome.com/232e2c38d5.js" crossorigin="anonymous" defer></script>

  <script src="main.js" defer></script>
</head>

<body onload="loadBody()">
  <div class="div-purple"></div><!-- id="div-purple" -->
  <div class="div-grey"></div> <!-- id="div-grey" -->

  <div id="div-white" class="div-white">
    <section id="headerSection" class="container col-12 col-md-12 col-xl-11">
      <div id="headerStart" class="col-12 col-md-5"><!-- put startHeaderSection -->
        <div id="logo">
          <a href="https://arnia.com.br/" target="_blank"><img id="logoArnia" src="../assets/logo-purple.svg" alt="Logo Arnia" /></a><!-- dont forget yo change ths in the dark mode js -->              
        </div>
        <div id="page-title">
          <div id="titleHeaderStart">
            <i class="fa-regular fa-clipboard fa-xl"></i>
            <span class="mb-3">Gerenciador de Tarefas</span><br>
          </div>
          <div id="buttonHeaderStart">
            <button id="newTaskButton" onclick="openModal('modalNewTask');clearModalNewTask()">+ Adicionar Nova Tarefa</button>
          </div>
        </div>
      </div>
      <div id="weatherHeaderSection" class="col-12 col-md-6">
        <div id="firstLine" class="d-flex gap-2 justify-content-center">
          <div class="col-xxl-3 color-orange text-end">Olá,</div>
          <div class="col-xxl-8 text-start" id="weatherName">&nbsp;</div>
        </div>
        <div id="secondLine" class="d-flex">
          <div id="weatherTemp" class="color-orange col-xxl-3">&nbsp;</div>
          <div id="weatherCity" class="col-xxl-5 text-start">&nbsp;</div>
        </div>
      </div>
      <div id="buttonsHeaderSection" class="col-12 col-md-1">
        <div id="buttonsPageTop" class="col-md-2">
          <div id="logout">
            <button id="logoutButton" onclick="logoutUser()">Sair</button>
          </div>
          <div id="darkMode">
            <div id="darkModeContent" onclick="switchMode()"><img width="25px" id="iconMode" src="../assets/moon.svg"></div>
          </div>
        </div>
      </div>
    </section>
    <div class="div-orange" id="div-orange"></div>
    <main class="container-fluid"> <!-- take this container-fluid of -->
      <section id="midSection">
        <div id="tableHeader" class="col-12 col-xxl-12">
          <div id="buttonsFilter" class="col-12 col-xxl-9">
            <button onclick="getTasksRender()">Todas</button>
            <button id="btnToday" onclick="todayTasks()">Hoje</button>
            <button onclick="filterTasks('Em progresso')" id="btnRunning">Progresso</button>
            <button onclick="filterTasks('Em pausa')" id="btnPause">Pausa</button>
            <button onclick="filterTasks('Concluído')" id="btnFinished">Concluído</button>
            <button id="btnLate" onclick="lateTasks()">Atrasado</button>
          </div>
          <div id="searchTasks" class="col-md-3 col-xxl-3">
            <div class="col-xxl-2 col-md-2" id="magnifyingGlass"><i class="fa-solid fa-magnifying-glass"></i></div>
            <div class="col-xxl-9 col-md-9">
              <input id="searchField" name="search" type="search" placeholder="Pesquise aqui" >
            </div>
          </div>
        </div>
      </section>
      <section id="tableSection" class="container-fluid col-md-10 col-xxl-11">
        <div id="tableContent" class="container">
          <table class="col-md-10 col-xxl-9">
            <thead id="tHead" class="container col-12 col-xxl-12 font-weight-bold">
              <tr>
                <th class="col-1 col-md-2 col-xxl-1">Núm <span onclick="orderingTable('number')" class="fa-solid fa-caret-down iconTable"></span></th>
                <th class="col-3 col-md-3 col-xxl-3">Descrição <span onclick="orderingTable('description')" class="fa-solid fa-caret-down iconTable"></span></th>
                <th class="col-3 col-md-3 col-xxl-3">Data de Entrega <span onclick="orderingTable('date')" class="fa-solid fa-caret-down iconTable"></span></th>
                <th class="col-3 col-md-2 col-xxl-3">Status <span onclick="orderingTable('status')" class="fa-solid fa-caret-down iconTable"></span></th>
                <th class="col-2 col-md-2 col-xxl-2">Ação</th>
              </tr>
            </thead>
            <tbody id="tbody-content" class="table-light text-purple">
            </tbody>
          </table>
        </div>
      </section>
      <div id="buttonsPaging" class="col-xxl-7 d-flex"><!-- raise the width to fit better the icons -->
        <div id="previousPage" class="pagingButtons" onclick="previousPage()"><!-- ENGLISH FIX - PAGINATE!! -->
          <!-- <i class="fa-solid fa-chevron-left"></i> --><p> Anterior</p>
        </div>
         <div id="pagesNum" class="d-flex">
          <p id="currentPage"></p><p>/</p><p id="pagesLength"></p>
         </div>
         <div id="nextPage" class="pagingButtons" onclick="nextPage()">
          <p>Próximo </p><!-- <i class="fa-solid fa-chevron-right"></i> -->
         </div> 
      </div>
      <div id="footerHelp">
        <p id="footerHelpContent" onclick="openModal('modalHelp')">Tenho um problema com a minha conta!</p>
      </div> 
    </main><!-- maybe this </main> is the problem. I'm gonna leave in here -->
  </div><!-- div-white ending -->
  <!-- MODALS SECTION -->
  <div id="modalNewTask" class="modalMain">
    <div id="modalNewTaskContent" class="classModal modalBack-light downToUpAnimation"><!-- FIX THIS IN THE SWITCH THEMES CLASSLIST.ADD ETC -->
      <h5 class="mb-3 h5style">Adicionar nova tarefa</h5>
      <div class="closeButton" onclick="closeModal('modalNewTask')">&times;</div>
      <form id="formNewTask"><!-- mab put in here d-flex flex-columm gap-3 -->
        <div>
          <label for="number">Número</label><br /> 
          <input min="1" id="number" type="number" name="number"/>
          <small>&nbsp;</small>
        <br><!-- could i make this better? try to remove the br tags -->
        <div>
          <label for="description">Descrição</label>
          <input type="text" placeholder="Ex: Descreva a tarefa aqui" id="description" name="description"/>
          <small>&nbsp;</small>
        </div>
        <div>
          <label for="date">Data</label> 
          <br>
          <input type="date" name="date" id="date"/><!-- put a min date today. Search how to do this -->
            <small>&nbsp;</small>
        </div>
        <br>
        <div>
          <label for="status">Status</label>
          <br>
          <select id="selectStatus" name="status">
            <option disabled selected>Escolha uma opção</option>
            <option value="Em progresso">Em progresso</option>
            <option value="Em pausa">Em pausa</option>
            <option value="Concluído">Concluído</option>
          </select>
            <small id="statusSmall">&nbsp;</small><!-- why this small tag has a id? -->
        </div>
        <br>
        <div id="modal-footer"><!-- put this closeModal('modalNewTask') on the clearModal -->
          <div id="cancelButton" onclick="closeModal('modalNewTask');clearModalNewTask()">Cancelar</div>
          <button id="submitButton">Salvar</button><!-- disable this button and add the disabled class -->
      </div>
      </form>
    </div>
  </div>
  <div id="modalConfirmation" class="modalMain">
    <div id="modalConfirmationContent" class="classModal modalBack-light downToUpAnimation">
    <div class="closeButtonDelete" onclick="closeModal('modalConfirmation')">&times;</div>
    <div><h3 id="confirmText">Você deseja excluir esta tarefa?</h3></div>
    <div id="buttonsConfirmation">
      <button id="buttonYes">Sim</button>
      <button onclick="closeModal('modalConfirmation')">Não</button>
    </div>
  </div>
  </div>
  <div id="modalHelp" class="modalMain">
    <div id="modalHelpContent" class="classModal downToUpAnimation">
      <div id="helpTitle">
        <h6>Tenho um problema com:</h6>
      </div>
      <div id="helpBody">
      <div>
        <button onclick="openModal('modalEditConfirm');closeModal('modalHelp')">Dados da minha conta</button>
      </div>
      <div>
        <button id="deleteAccountButton" class="deleteAccount" onclick="confirmDeleteUser();closeModal('modalHelp')">Excluir minha conta</button>
      </div>          
    </div>
    <span class="closeButton" onclick="closeModal('modalHelp')">&times;</span><!-- try putting this in the right place and switch the span to div -->
    </div>
  </div>
  <div id="modalEditConfirm" class="modalMain">
    <div id="modalEditConfirmContent" class="classModal upToDownAnimation">
      <span class="closeButton" onclick="closeModal('modalEditConfirm')">&times;</span>
      <h4 class="mt-4">Alteração de Informação da Conta:</h4>
      <label class="mb-2" id="passwordConfirm" for="passwordConfirm">Por favor, insira sua senha</label>
      <input id="passwordConfirm" name="passwordConfirm" type="password">
      <small>&nbsp;</small>
      <button id="editButton" onclick="openModal('modalEditInfo')">Alterar</button><!-- remove this openmodal -->
    </div>
  </div>
  <div id="modalEditInfo" class="modalMain">
    <div id="modalEditInfoContent" class="classModal upToDownAnimation">
        <span class="closeButton" onclick="closeModal('modalEditInfo')">&times;</span>
        <form id="formEdit">
            <div class="d-flex flex-column mt-3">
                <label for="nameEdit">Nome</label>
                <input id="nameEdit" name="name" type="text">
                <small>&nbsp;</small>
            </div>
            <div class="d-flex flex-column mt-3">
                <label for="cityEdit">Cidade</label>
                <input id="cityEdit" name="city" type="text">
                <small>&nbsp;</small>
            </div>
            <div class="d-flex flex-column mt-3">
                <label for="loginEdit">Login</label>
                <input id="loginEdit" name="login" type="text">
                <small>&nbsp;</small>
            </div>
            <div class="d-flex flex-column mt-3">
                <label for="emailEdit">Email</label>
                <input id="emailEdit" name="email" type="email">
                <small>&nbsp;</small>
            </div>
            <div class="d-flex flex-column mt-3">
                <label for="passwordEdit">Senha</label>
                <input id="passwordEdit" name="password" type="password">
                <small>&nbsp;</small>
            </div>
            <div class="d-flex flex-column">
                <button type="submit" class="mt-3">Alterar</button><!-- disable this button and add a listener -->
            </div>
        </form>
    </div>
  </div>
  <div id="modalDeleteConfirm" class="modalMain">
    <div id="modalDeleteConfirmContent" class="classModal upToDownAnimation">
      <span class="closeButton" onclick="closeModal('modalDeleteConfirm')">&times;</span>
      <h2><strong>Ah! mas você já vai?</strong></h2>
      <h4>Isso irá deletar suas tarefas e seus dados.</h4>
      <h5>Por favor, insira sua senha para <br> confirmar a exclusão da sua conta</h5>
      <label class="mb-2" for="passConfirmDelete">Sua senha</label>
      <input id="passConfirmDelete" name="passConfirmDelete" type="password">
      <small>&nbsp;</small>
      <button id="deleteButton">Confirmar Exclusão</button>
      <button onclick="closeModal('modalDeleteConfirm')">Cancelar</button>
    </div>
  </div>
  <div id="modalInfo" class="downToUpAnimation">
    <div id="modalInfoContent">
      <span class="closeButton" onclick="closeModal('modalInfo')">&times;</span>
        <h3 id="textModalInfo">Alteração realizada com sucesso!</h3>
    </div>
  </div>
</body>
</html>